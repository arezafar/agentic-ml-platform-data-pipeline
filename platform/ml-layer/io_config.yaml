# =============================================================================
# Mage IO Configuration - MLOps Pipeline
# =============================================================================
# Connection profiles for the Agentic ML workflow.
# =============================================================================

version: 0.1.1
default_profile: dev

dev:
  # ---------------------------------------------------------------------------
  # H2O Compute Engine Connection
  # ---------------------------------------------------------------------------
  H2O_URL: http://h2o-ai:54321
  H2O_CLUSTER_NAME: mlops-h2o

  # ---------------------------------------------------------------------------
  # Feature Store / Training Data Source
  # ---------------------------------------------------------------------------
  POSTGRES_CONNECT_TIMEOUT: 10
  POSTGRES_DBNAME: feature_store
  POSTGRES_SCHEMA: public
  POSTGRES_USER: mage
  POSTGRES_PASSWORD: mage_secret
  POSTGRES_HOST: postgres
  POSTGRES_PORT: 5432

  # ---------------------------------------------------------------------------
  # Data Exchange Path (Shared Volume)
  # ---------------------------------------------------------------------------
  DATA_EXCHANGE_PATH: /data/exchange
  MODEL_OUTPUT_PATH: /models

  # ---------------------------------------------------------------------------
  # AutoML Configuration Defaults
  # ---------------------------------------------------------------------------
  DEFAULT_MAX_RUNTIME_SECS: 3600
  DEFAULT_MAX_MODELS: 20
  DEFAULT_SEED: 42

staging:
  H2O_URL: "{{ env_var('STAGING_H2O_URL') }}"
  POSTGRES_HOST: "{{ env_var('STAGING_POSTGRES_HOST') }}"
  POSTGRES_USER: "{{ env_var('STAGING_POSTGRES_USER') }}"
  POSTGRES_PASSWORD: "{{ env_var('STAGING_POSTGRES_PASSWORD') }}"
  POSTGRES_DBNAME: "{{ env_var('STAGING_POSTGRES_DB') }}"
  POSTGRES_PORT: 5432

production:
  H2O_URL: "{{ env_var('PROD_H2O_URL') }}"
  POSTGRES_HOST: "{{ env_var('PROD_POSTGRES_HOST') }}"
  POSTGRES_USER: "{{ env_var('PROD_POSTGRES_USER') }}"
  POSTGRES_PASSWORD: "{{ env_var('PROD_POSTGRES_PASSWORD') }}"
  POSTGRES_DBNAME: "{{ env_var('PROD_POSTGRES_DB') }}"
  POSTGRES_PORT: 5432
