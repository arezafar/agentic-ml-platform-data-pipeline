{
    "pipelines": {
        "batch_training": {
            "name": "batch_training_pipeline",
            "type": "batch",
            "description": "Job 1-2: Data ingestion and H2O AutoML training",
            "uuid": "batch_training_v1",
            "blocks": [
                {
                    "uuid": "ingest_batch_data",
                    "type": "data_loader",
                    "downstream_blocks": [
                        "training_agent"
                    ]
                },
                {
                    "uuid": "training_agent",
                    "type": "transformer",
                    "upstream_blocks": [
                        "ingest_batch_data"
                    ],
                    "downstream_blocks": [
                        "export_model_artifacts"
                    ]
                },
                {
                    "uuid": "export_model_artifacts",
                    "type": "data_exporter",
                    "upstream_blocks": [
                        "training_agent"
                    ]
                }
            ],
            "schedule": {
                "type": "time",
                "cron": "0 2 * * 0",
                "timezone": "UTC"
            }
        },
        "api_inference": {
            "name": "api_inference_pipeline",
            "type": "api",
            "description": "Job 3: Real-time model inference via REST API",
            "uuid": "api_inference_v1",
            "blocks": [
                {
                    "uuid": "load_api_request",
                    "type": "data_loader",
                    "downstream_blocks": [
                        "run_inference"
                    ]
                },
                {
                    "uuid": "run_inference",
                    "type": "custom",
                    "upstream_blocks": [
                        "load_api_request"
                    ]
                }
            ],
            "triggers": [
                {
                    "type": "api",
                    "name": "inference_trigger",
                    "endpoint": "/api/pipelines/api_inference_v1/runs",
                    "method": "POST",
                    "auth_required": false
                }
            ]
        },
        "health_monitoring": {
            "name": "health_monitoring_pipeline",
            "type": "batch",
            "description": "Job 4: Model health checks and retraining triggers",
            "uuid": "health_monitoring_v1",
            "blocks": [
                {
                    "uuid": "check_model_health",
                    "type": "sensor",
                    "downstream_blocks": [
                        "schedule_retraining"
                    ]
                },
                {
                    "uuid": "schedule_retraining",
                    "type": "custom",
                    "upstream_blocks": [
                        "check_model_health"
                    ],
                    "conditional_blocks": [
                        "batch_training"
                    ]
                }
            ],
            "schedule": {
                "type": "time",
                "cron": "0 */4 * * *",
                "timezone": "UTC"
            }
        }
    },
    "api_triggers": {
        "inference": {
            "endpoint": "http://localhost:6789/api/pipelines/api_inference_v1/runs",
            "method": "POST",
            "headers": {
                "Content-Type": "application/json"
            },
            "example_payload": {
                "data": [
                    {
                        "feature_1": 1.5,
                        "feature_2": 2.3,
                        "feature_cat": "A"
                    },
                    {
                        "feature_1": 3.1,
                        "feature_2": 4.2,
                        "feature_cat": "B"
                    }
                ],
                "options": {
                    "return_probabilities": true
                }
            },
            "example_curl": "curl -X POST http://localhost:6789/api/pipelines/api_inference_v1/runs -H 'Content-Type: application/json' -d '{\"data\": [{\"feature_1\": 1.5}]}'"
        }
    }
}